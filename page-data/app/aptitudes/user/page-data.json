{"componentChunkName":"component---src-templates-aptitude-template-with-query-tsx","path":"/app/aptitudes/user","result":{"data":{"aptitude":{"internalName":"user","capabilities":[{"markdown":{"html":"<p>Receive a <a href=\"https://jwt.io\">JWT</a> identifying the currently logged in Olive Helps user.</p>\n<p>The jwt function can take an optional configuration object specifying the inclusion of optional claims.</p>\n<p>DEPRECATION NOTE: The current default behavior of the jwt call is to <em>include</em> the email claim, however, upcoming changes will deprecate this behavior. New Loop code which relies on the email claim should explicitly request it with the configuration object instead of relying on the default behavior (e.g. <code>jwt({includeEmail: true})</code> ).</p>\n<h3 id=\"jwt-claims\" style=\"position:relative;\">JWT Claims<a href=\"#jwt-claims\" aria-label=\"jwt claims permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The claims in the JWT are as follows:</p>\n<p>Standard Claims:</p>\n<ul>\n<li><code>sub</code> (Subject): contains the unique User ID of the current Olive Helps user.</li>\n<li><code>exp</code> (Expiration): The token is set to expire 5 minutes from the time of its creation.</li>\n<li><code>iss</code> (Issuer): the endpoint from which the token was requested. This should be <code>https://sidekick.oliveai.com/api/user/createJWT</code>.</li>\n</ul>\n<p>Additional Claims:</p>\n<ul>\n<li><code>azp</code> (Authorized Party): contains the LoopID of the Loop which requested the JWT.</li>\n</ul>\n<p>Optional Claims:</p>\n<ul>\n<li><code>email</code>: contains the email address of the current Olive Helps user. This claim can be requested by passing true as the value of the includeEmail parameter. If your Loop does not need the email, pass <code>{includeEmail: false}</code> to omit the claim (see deprecation note above).</li>\n</ul>\n<h3 id=\"optional-claim-permissions\" style=\"position:relative;\">Optional Claim Permissions<a href=\"#optional-claim-permissions\" aria-label=\"optional claim permissions permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Loops which require the use of optional JWT claims must request access to that claim in the Loop <a href=\"https://github.com/open-olive/loop-development-kit/tree/main/ldk/javascript#loop-permissions\">Permissions configuration</a>.</p>\n<p>The <code>user</code> permissions object must be populated with the names of any requested optional claims in the following format:</p>\n<pre><code>'ldk': {\n    'permissions': {\n        'user': {\n            'optionalClaims': [\n                { 'value': 'email' }\n            ]\n        }\n    }\n}\n</code></pre>\n<p>Loops which do not require any optional claims should pass an empty object for the user permissions:</p>\n<pre><code>'ldk': {\n    'permissions': {\n        'user': {}\n    }\n}\n</code></pre>\n<h3 id=\"jwt-signing\" style=\"position:relative;\">JWT Signing<a href=\"#jwt-signing\" aria-label=\"jwt signing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The JWT from the User Aptitude will be signed with a RS256 key. The corresponding public key can be used to validate the signature of the JWT. This will verify that the JWT was generated by the User Aptitude. The public key for this validation can be found here on the Dev Hub site, at <a href=\"docs/../../../../static/public-keys/olive-helps/user-aptitude/user-aptitude-jwt-rsa.pub\">this link</a>.</p>","frontmatter":{"name":"JWT","links_js":"jwt"}}}],"markdown":{"html":"<p>Allows Loops to obtain a signed JWT which can be used to identify an Olive Helps user to 3rd party services.</p>\n<p>This token is signed by Olive and contains claims which identify the current Olive Helps user. Loop Authors can use the JWT to authenticate the current user on their own services. The most likely use case for the JWT would be as an initial identifying token for an external service. The service in question could then issue its own JWT (or other authentication method) for future requests to that service.</p>","frontmatter":{"name":"User","links_js":"User"}}}},"pageContext":{"slug":"user"}},"staticQueryHashes":["2622857367","363822267"]}