{"componentChunkName":"component---src-templates-aptitude-template-with-query-tsx","path":"/app/aptitudes/filesystem","result":{"data":{"aptitude":{"internalName":"filesystem","capabilities":[{"markdown":{"html":"<p>Copies a file from one location to another.</p>","frontmatter":{"name":"Copy","links_js":"copy"}}},{"markdown":{"html":"<p>Returns all files in the specified directory</p>","frontmatter":{"name":"Dir","links_js":"dir"}}},{"markdown":{"html":"<p>Return true if a file or directory exists at the specified location.</p>","frontmatter":{"name":"Exists","links_js":"exists"}}},{"markdown":{"html":"<p>Joins file path segments using the appropriate OS separator and returns the result as a string. </p>","frontmatter":{"name":"Join","links_js":"join"}}},{"markdown":{"html":"<p>Receive a message whenever any change is made to a file within the specified directory.</p>","frontmatter":{"name":"Listen to Directory","links_js":"listenDir"}}},{"markdown":{"html":"<p>Receive a message whenever any change is made to a specified file.</p>","frontmatter":{"name":"Listen for File Changes","links_js":"listenFile"}}},{"markdown":{"html":"<p>Makes a directory at the specified location.</p>","frontmatter":{"name":"Make Directory","links_js":"makeDir"}}},{"markdown":{"html":"<p>Moves a file from one location to another.</p>","frontmatter":{"name":"Move","links_js":"move"}}},{"markdown":{"html":"<p>Returns the contents of the specified file.</p>","frontmatter":{"name":"Read File","links_js":"readFile"}}},{"markdown":{"html":"<p>Removes a file/directory at the specified path.</p>","frontmatter":{"name":"Remove","links_js":"remove"}}},{"markdown":{"html":"<p>Returns info about a specified file/directory.</p>","frontmatter":{"name":"File Info","links_js":"stat"}}},{"markdown":{"html":"<p>Writes (overwrites or appends) data to the specified file with specific permissions. New file will be created if file not exist.</p>","frontmatter":{"name":"Write File","links_js":"writeFile"}}}],"markdown":{"html":"<p>Provides read and write access to the filesystem, enabling Loop Authors to read and write files.</p>\n<p><a href=\"https://github.com/open-olive/loop-development-kit/tree/main/ldk/javascript#loop-permissions\">Permissions must be declared</a> for a Loop to use the Filesystem Aptitude.</p>\n<h3 id=\"permissions\" style=\"position:relative;\">Permissions<a href=\"#permissions\" aria-label=\"permissions permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The filesystem permissions object must be populated with the absolute paths of the files and directories you want to access in the following format:</p>\n<pre><code class=\"language-json5\">{\n  \"ldk\": {\n    \"permissions\": {\n      \"filesystem\": {\n        \"pathGlobs\": [\n          {\n            // Provides access to all files in the /tmp directory that have a .txt extension.\n            \"value\": \"/tmp/*.txt\"\n          },\n          {\n            // Provides access to all directories and files under the /tmp directory.\n            \"value\": \"/tmp/**\"\n          },\n          {\n            // Provides access to all files with .txt extensions in the /tmp directory or any of its subdirectories.\n            \"value\": \"/tmp/**/*.txt\"\n          },\n          {\n            // Provides access to all files with .txt extensions in any subdirectory of /tmp.\n            \"value\": \"/tmp/*/*.txt\"\n          }\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>Attempts to access a file or directory you have not added permissions for will fail.</p>\n<h3 id=\"working-directory\" style=\"position:relative;\">Working Directory<a href=\"#working-directory\" aria-label=\"working directory permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Each Loop gets a dedicated working directory that it can use to store files that don't need to be placed in a specific location. </p>\n<p>Other Loops will not be able to access this directory.</p>\n<p>Each Loop with filesystem permissions requested will automatically have access to this directory, its subdirectories, and any files within. If you only need access to the working directory, provide an empty <code>filesystem</code> permissions object:</p>\n<pre><code class=\"language-json\">{\n  \"ldk\": {\n    \"permissions\": {\n      \"filesystem\": {}\n    }\n  }\n}\n</code></pre>\n<p>To access a file or directory inside the working directory, provide a relative path:</p>\n<pre><code class=\"language-js\">const csvContents = await ldk.filesystem.readFile('./my-file.csv');\n</code></pre>\n<ul>\n<li>Loops can do whatever they want in this directory, but they cannot destroy their working directory. For example <code>filesystem.remove(\"./\")</code> will fail.</li>\n<li>All relative paths are automatically allowed as long as they actually resolve to something in the Loop's \"work directory\".</li>\n<li>Fil epaths which refer to parent directories (example: <code>../</code>) requires permissions to be specifically provided as normal.</li>\n<li>Shutting down or updating a Loop does not delete the working directory or its contents.</li>\n</ul>","frontmatter":{"name":"Filesystem","links_js":"Filesystem"}}}},"pageContext":{"slug":"filesystem"}},"staticQueryHashes":["2622857367","363822267"]}